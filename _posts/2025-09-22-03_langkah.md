---
title: Integrasi Antara VM
author: Muhammad Rizki Akbar & A. Kiflan Jiyaad Mafazi. A
date: 2025-09-22
category: Jekyll
layout: post
---

## Langkah SSH Ubuntu ke OcNOS menggunakan Oracle VBox

Dalam proses belajar jaringan, integrasi antara Virtual Machine (VM) yang menjalankan OCNOS dan Ubuntu Server sebagai penghubung atau client adalah langkah penting untuk memahami bagaimana sistem operasi jaringan dapat dikonfigurasi dan diakses layaknya perangkat jaringan fisik. Dengan memanfaatkan VM, kita bisa melakukan simulasi tanpa harus menggunakan perangkat keras asli, sehingga lebih fleksibel, efisien, dan hemat biaya.

Tujuan utama integrasi ini adalah:

- Menyiapkan lingkungan OCNOS di VM agar memiliki alamat IP yang valid.
- Menghubungkan OCNOS dengan VM Ubuntu melalui jaringan virtual.
- Mengakses OCNOS via SSH sehingga administrasi bisa dilakukan secara remote, bukan hanya lewat console bawaan.
- Melalui integrasi ini, kita bisa mendapatkan pengalaman yang mirip dengan pengelolaan switch/router sungguhan, namun dalam bentuk simulasi.

## Konfigurasi IP pada OcNOS di Virtual Machine

Buka OcNOS dalam Virtual Machine

![Alt Text](assets/gitbook/images/step_ocnos/01.png)
<br>
Gunakan perintah berikut untuk melakukan konfigurasi pada IP di OcNOS

```bash
OcNOS>en
OcNOS#conf t
OcNOS(config)#int eth0
OcNOS(config-if)#ip add 192.168.80.2/24
OcNOS(config-if)#commit
OcNOS(config-if)#shutdown
OcNOS(config-if)#exit
OcNOS(config)#do ping 192.168.80.1
```
<br>

Setelah melakukan konfigurasi menggunakan perintah tersebut maka hasil yang muncul seperti gambar berikut

![Alt Text](assets/gitbook/images/step_ocnos/02.png)
<br>

> *Jika terjadi RTO (Request Time Out) maka IP yang dikonfigurasi tidaklah berhasil. Ulangi langkah pada saat konfigurasi pengaturan OcNOS atau perintah yang dimasukkan tidaklah sesuai.*
<br>

Jika melakukan ping menggunakan IP yang dibuat sudah berhasil maka lanjut untuk membuat user baru dengan command berikut

```bash
OcNOS#config terminal
OcNOS(config)#username <sesuai keinginan> password <sesuai keinginan (panjang 8-32 karakter)>
OcNOS(config)#commit
OcNOS(config)#end
OcNOS#end
```

> *Pada tahap ini melakukan simulasi menggunakan nama user "admin" dan password "admin123"*

## Akses OcNOS VM Melalui SSH dari Ubuntu VM

Untuk melakukan intrgrasi OcNOS VM dengan Ubuntu VM, pertama konfigurasi OcNOS dengan membuat pada Network bagian Adapter 2, 3, dan 4 dengan konfigurasi berikut

- Attached to: Bridged Adapter
- Name: Setiap perangkat memiliki dua tipe yang berbeda (gunakan default)
<br>
- Adapter Type: Pada bagian ini setiap device memiliki tipe yang berbeda, gunakan tipe default seperti:

  - AMD PCNet FAST III (Am79C973)
  - Intel PRO/1000 MT Desktop (82540EM)
  - Paravirtualized Network Adapter (virtio-net)

- Promiscuous Mode: Allow All
- Check Box pada Cable Connected pastikan tercentang

![Alt Text](assets/gitbook/images/step_ubuntu/01.png)
<br>
Pertama jalankan CLI Ubuntu dan gunakan perintah berikut untuk melakukan konfigurasi pada IPnya dan lanjut mengisikan password untuk mengakses super user.

```bash
sudo ip addr add 192.168.80.3/24 dev enp0s3
```
<br>

Lanjut menggunakan command untuk mengaktifkan interface enp0s3 agar bisa digunakan 

```bash
sudo ip link set enp0s3 up
```
<br>
Setelahnya lakukan uji sambung ping ke OcNOS dengan menggunakan IP yang sudah dibuat pada OcNOS (disini IP pada OcNOS menggunakan IP 192.168.80.2)

```bash
ping 192.168.80.2
```
<br>

![Alt Text](assets/gitbook/images/step_ubuntu/02.png)
<br>
Selanjutnya buka OcNOS dan lakukan uji ping menggunakan IP Ubuntu dengan perintah berikut

```bash
do ping 192.168.80.3
```
<br>

Jika kedua Operating System/Sistem Operasi (OS) sudah bisa saling terhubung, kemudian lanjut SSH dari Ubuntu ke OcNOS dengan perintah

```bash
ssh admin@192.168.80.2
```
<br>

Pastikan IP yang digunakan sama dengan yang ada pada OcNOS

Pada proses ini akan muncul verifikasi apakah pengguna setuju untuk terhubung ke IP yang dituju, jika iya maka ketik "yes" dan lanjut mengisikan password yang sudah dibuat pada OcNOS
Pada tahap ini VM Ubuntu sudah berhasil Remote Login via SSH dan consol dari OcNOS menjadi server.

# Melakukan Konfigurasi Ping dari OcNOS ke OcNOS Menggunakan ethernet 1 - ethernet 3

Untuk konfigurasi agar VM OcNOS bisa terhubung (tes menggunakan ping) ke sesama VM OcNOS dengan tujuan untuk bisa melakukan *real networking* dan mengetahui cara simulasi antara router yang berbeda bisa terhubung.

Pertama buat *clone*/salinan dari VM OcNOS dengan cara masuk ke dalam Oracle VirtualBox terlebih dahulu dengan cara klik kanan pada VM OcNOS dan pilih menu "clone" atau bisa dengan cara klik kiri sekali pada VM yang dituju kemudian gunakan kombinasi tombol "ctrl + o" dengan fungsi yang sama untuk melakukan *clone*.

![Alt Text](assets/gitbook/images/sbs_ocnosclone/01.png)
<br>

Selanjutnya akan tampil menu untuk melakukan *clone*, selanjutnya biarkan secara default untuk proses ini dan untuk melanjutkan proses penyalinan VM bisa dengan klik menu Finish.

![Alt Text](assets/gitbook/images/sbs_ocnosclone/02.png)
<br>

Pada tahap ini proses untuk melakukan *clone* pada Virtual Machine akan berjalan dan jika prosesnya sudah selesai maka VM yang sebelumnya disalin akan muncul pada sidebar Oracle VBox sesuai dengan penamaan yang diberikan pada saat proses menyalin VM.

![Alt Text](assets/gitbook/images/sbs_ocnosclone/03.png)
<br>

Setelahnya masuk ke settings pada OcNOS dan juga OcNOS VM kemudian pilih menu Network, selanjutnya pada adapter 2 - 4 ikui konfigurasi berikut
- Attached to: internal network
- Name : intent
- Promiscuous Mode: Allow All
- Cable Connected: Centang

![Alt Text](assets/gitbook/images/sbs_ocnosclone/04.png)
<br>

Selanjutnya buka VM OcNOS dan VM OcNOS Clone secara bersamaan dan login untuk melanjutkan ke tahap konfigurasi dengan kode berikut.

```bash
OcNOS>en
OcNOS #configure terminal
OcNOS config #do show ip int brief
```
<br>

Maka pada OcNOS akan muncul tampilan output tabel status interface dari IP yang sebelumnya dibuat. Untuk bisa saling terhubung antara dua VM OcNOS, konfigurasi salah satu VM (bisa OcNOS maupun OcNOS yang sudah diclone) dengan mengubah subnet IPnya yaitu 192.168.x.x dengan contoh kode berikut.

```bash
OcNOS config #int eth0
OcNOS config-if #ip add 192.168.80.3/24
OcNOS config-if #commit
OcNOS config-if #no shutdown
OcNOS config-if #exit
OcNOS config #do show ip int brief
```
> *pada salah satu VM OcNOS diubah IP bagian subnet 192.168.80.x/24 yang mana untuk bisa terhubung harus menggunakan oktet yang sama pada 1-3 dan untuk oktet ke 4 saja yang diubah*

![Alt Text](assets/gitbook/images/sbs_ocnosclone/06.png)
<br>

Jika sudah mengubah IP pada eth0, maka coba uji ping dengan menggunakan ping lawannya, dengan contoh jika pada OcNOS biasa menggunakan IP 192.168.80.2 maka menggunakan *command* do ping 192.168.80.3 begitu juga sebaliknya.

![Alt Text](assets/gitbook/images/sbs_ocnosclone/07.png)

> *tanda gagalnya terhubung antara dua VM yaitu tidak terjadi RTO (Request Time Out) dan berhasil jika kedua VM memberikan feedback berupa ICMP Echo seperti yang ada di gambar*

<br>

Untuk melakukan konfigurasi pada adapter 2 (eth1) hingga adapter 4 (eth3), yaitu sama dengan cara konfigurasi pada eth0 hanya saja dengan perbedaan penyesuaian seperti pada kode berikut.

```bash
OcNOS #configure terminal
OcNOS config #do show ip int brief
OcNOS config #int eth1
OcNOS config-if #ip add 192.168.81.3/24
OcNOS config-if #commit
OcNOS config-if #no shutdown
OcNOS config-if #exit
OcNOS config #int eth2
OcNOS config-if #ip add 192.168.82.3/24
OcNOS config-if #commit
OcNOS config-if #no shutdown
OcNOS config-if #exit
OcNOS config #int eth3
OcNOS config-if #ip add 192.168.83.3/24
OcNOS config-if #commit
OcNOS config-if #no shutdown
OcNOS config-if #exit
OcNOS config #write
OcNOS config #do show ip int brief
```

> *pada tahap ini sudah selesai melakukan konfigurasi pada eth1-eth3 dengan memberikan IP pada setiap ethernet, untuk kode tersebut gunakan pada OcNOS biasa dan OcNOS clone dengan menggunakan subnet yang berbeda pada setiap VMnya*

![Alt Text](assets/gitbook/images/sbs_ocnosclone/08.png)
<br>

Setelah melakukan konfigurasi pada kedua VM, tahap selanjutnya yaitu melakukan uji ping menggunakan IP lawan dari VMnya. Jika pada tahap ini sudah berhasil terhubung maka konfigurasi untuk terhubung antara dua VM OcNOS sudah berhasil.

# Melakukan Konfigurasi untuk ethernet 1 - ethernet 3 untuk Terhubung dari Ubuntu ke OcNOS

Dalam proses implementasi jaringan berbasis VirtualBox, setiap mesin virtual dapat memiliki lebih dari satu adapter jaringan yang digunakan untuk membangun konektivitas antar perangkat. Pada skenario ini, koneksi tidak hanya dilakukan melalui adapter utama (Ethernet 0) yang umumnya digunakan untuk akses ke host atau internet, tetapi juga melalui Ethernet 1 hingga Ethernet 3 yang dikonfigurasi khusus untuk membangun komunikasi internal antar mesin virtual.

Konfigurasi ini bertujuan agar mesin virtual Ubuntu dapat terhubung secara langsung dengan mesin virtual OcNOS, sehingga komunikasi data seperti ping test maupun pertukaran paket dapat dilakukan melalui jaringan internal tanpa bergantung pada koneksi eksternal. Dengan demikian, pengujian dan simulasi jaringan dapat berjalan lebih fleksibel dan mendekati kondisi nyata dalam penerapan perangkat jaringan.

Untuk melakukan konfigurasi tersebut, pertama masuk ke dalam Oracle VirtualBox dan pada VM Ubuntu masuk ke pengaturan pada Settings kemudian masuk ke menu Network. Pada tampilan menu Network, masuk ke dalam tab adapter 1 dan ubah konfigruasi berikut hingga ke adapter 3.
- Attached to: Internal Network
- Name: intnet
- Promiscuous Mode: Allow All
- Cable Connected: Centang

![Alt Text](assets/gitbook/images/sbs_ubuntunew/01.png)

Setelah melakukan konfigurasi pada Ubuntu, selanjutnya nyalakan Ubuntu VM dan OcNOS VM yang sebelumnya sudah dilakukan konfigruasi dan masukkan user serta password untuk melanjutkan.

Tahap selanjutnya merupakan konfigurasi untuk IP pada setiap adapter 0 hingga adapter 3 menggunakan kode berikut

```bash
sudo ip addr add 192.168.80.5/24 dev enp0s3
sudo ip addr add 192.168.81.5/24 dev enp0s8
sudo ip addr add 192.168.82.5/24 dev enp0s9
sudo ip addr add 192.168.83.5/24 dev enp0s10
sudo ip link set enp0s3 up
sudo ip link set enp0s8 up
sudo ip link set enp0s9 up
sudo ip link set enp0s10 up
```

![Alt Text](assets/gitbook/images/sbs_ubuntunew/02.png)

Selanjutnya yaitu melakukan uji ping dari VM Ubuntu maupun VM OcNOS menggunakan perintah berikut

Ubuntu
```bash
ping 192.168.80.2
```

OcNOS
```bash
do ping 192.168.80.5
```

![Alt Text](assets/gitbook/images/sbs_ubuntunew/03.png)